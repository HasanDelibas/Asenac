[{"_text":"Animate","_children":[{"_text":"Animations","_id":2,"_children":[],"_data":{"css":"","json":"{}","asena":"style> .wall{height:100px;}[state=old]{background:gray}\n.s-wall-2\n\t.wall[animate=slideLeft]\n\t\t[state=old][test]> OLD\n\t\t[state=new][test]> NEW\n\t\n\t.wall[animate=slideRight]\n\t\t[state=old][test]> OLD\n\t\t[state=new][test]> NEW\n\n\t.wall[animate=zoomIn]\n\t\t[state=old][test]> OLD\n\t\t[state=new][test]> NEW\n\t\n\t.wall[animate=zoomOut]\n\t\t[state=old][test]> OLD\n\t\t[state=new][test]> NEW\n\t\t","js":"","ts":"","asenacType":"asenac/function"}}],"_id":1,"_data":{"css":"[animate]{\n\tposition:relative;\n\twidth:100%;\n\theight:100%;\n\toverflow:hidden;\n\t[state]{\n\t\tposition:absolute;\n\t\twidth:100%;\n\t\theight:100%;\n\t\toverflow:auto;\n\t\tanimation-duration: .25s;\n\t\tanimation-timing-function:ease-in-out;\n\t\tanimation-fill-mode:forwards;\n\t\t\n\t}\n\t\n\t[state=old]{\n\t\tz-index:0;\n\t}\n\t[state=new],[state=current]{\n\t\tz-index:1;\n\t}\n\t[state=hide]{\n\t\topacity:0;\n\t\tvisibility:hidden;\n\t}\n\t&[animate=slideLeft]{\n\t\t[state=old]{animation-name:anim-fadeOutLeft;}\n\t\t[state=new]{animation-name:anim-fadeInRight;}\n\t}\n\t&[animate=slideRight]{\n\t\t[state=old]{animation-name:anim-fadeOutRight;}\n\t\t[state=new]{animation-name:anim-fadeInLeft;}\n\t}\n\t&[animate=zoomIn]{\n\t\t[state=old]{animation-name:anim-zoomOut;}\n\t\t[state=new]{animation-name:anim-zoomIn;}\n\t}\n\t&[animate=zoomOut]{\n\t\t[state=old]{animation-name:anim-zoomOut-In;}\n\t\t[state=new]{animation-name:anim-zoomIn-Out;}\n\t}\n}\n\n@keyframes anim-fadeOutLeft{\n\t0%{transform:translate(0,0);opacity:1}\n\t99%{transform:translate(-100%,0);opacity:0}\n\t100%{transform:translate(-100%,0);opacity:0;visibility:hidden;}\n}\n@keyframes anim-fadeOutRight{\n\t0%{transform:translate(0,0);opacity:1}\n\t99%{transform:translate(100%,0);opacity:0}\n\t100%{transform:translate(100%,0);opacity:0;visibility:hidden;}\n}\n@keyframes anim-fadeInRight{\n\t0%{transform:translate(100%,0);opacity:0}\n\t99%{transform:translate(0,0);opacity:1}\n}\n@keyframes anim-fadeInLeft{\n\t0%{transform:translate(-100%,0);opacity:0}\n\t99%{transform:translate(0,0);opacity:1}\n}\n\n@keyframes anim-zoomIn{\n\t0%{transform:scale(.5);opacity:0}\n\t99%{transform:scale(1);opacity:1}\n}\n@keyframes anim-zoomOut{\n\t0%{transform:scale(1);opacity:1}\n\t99%{transform:scale(2);opacity:0}\n\t100%{transform:scale(2);opacity:0;visibility:hidden;}\n}\n@keyframes anim-zoomIn-Out{\n\t0%{transform:scale(2);opacity:0}\n\t99%{transform:scale(1);opacity:1}\n}\n@keyframes anim-zoomOut-In{\n\t0%{transform:scale(1);opacity:1}\n\t99%{transform:scale(.5);opacity:0}\n\t100%{transform:scale(.5);opacity:0;visibility:hidden;}\n}","json":"{}","asena":"div[style=width:100px;height:100px;]\n\t[animate][test]\n\t\t[state=old]#X> Frame X\n\t\t[state=new]#Y> Frame Y\n\t\t[state=hide]#Z> Frame Z\n\t\t-animTest = Animate(Parent,{animation:\"slideLeft\"})\n\nbutton>Back\n\t- Parent.onclick=(e)=>{animTest.back()}\nbutton>Go 0 \n\t- Parent.onclick=(e)=>{animTest.go(0)}\nbutton>Go 1 \n\t- Parent.onclick=(e)=>{animTest.go(1)}\nbutton>Go 2 \n\t- Parent.onclick=(e)=>{animTest.go(2)}","js":"/*\n\n\t@param options\n\t\tanimation:\"slideLeft\" | \"slideRight\"\n\t\tduration:number milisecond,\n\t\tremove:boolean | false,\n\t\tfocus:boolean | false,\n\t\tcallback:[]\n*/\n// Animate(parent,elements,options)\n// Animate(parent,options)\nvar Animate = function(parentEl,elements,options) {\n\tif(parentEl.animate==null)\n\t\treturn parentEl.animate;\n\tvar _elements = [];\n\tvar _options = {};\n\tif(elements instanceof Array){\n\t\t_elements = elements;\n\t}else if(typeof elements == \"object\"){\n\t\t_elements = Array.from(parentEl.querySelectorAll(\"[state]\"));\n\t\t_options = elements;\n\t}\n\treturn new Animate.Animate(parentEl,_elements,_options);\n}\nAnimate.Animate = function(parentEl,elements,options) {\n\tlet _options = {\n\t\tduration: 500,\n\t\tanimation:\"slideLeft\",\n\t\tremove:false,\n\t\tfocus:false,\n\t\tcallback:[]\n\t};\n\tthis.options = Object.assign({},_options,options);\n\t\n\t\n\tthis.parentEl = parentEl;\n\tparentEl.animate = this;\n\t$(this.parentEl).attr(\"animate\",\"\");\n\t\n\t\n\tthis.add = function(element,state){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.append(element);\n\t\tthis.parentEl.append(el);\n\t\tif(state){\n\t\t\t$(el).attr('state',state);\n\t\t}\n\t\treturn el;\n\t}\n\t\n\tthis.hideAll = function(){\n\t\t$(this.parentEl).find(\"[state]\").attr(\"state\",\"hide\");\n\t}\n\t/*\n\t\t{element,options}\n\t*/\n\tthis.golist = [];\n\tthis.go = function(element,options,ignore){\n\t\t\n\t\tif(ignore==null) ignore=false;\n\t\tif(options==null) options = {};\n\t\tif( typeof jQuery!=\"undefined\" && element instanceof jQuery){\n\t\t\telement = element.get(0);\n\t\t}\n\t\tif( typeof element ==\"number\" ){\n\t\t\telement = $(parentEl).find(\"> [state]\").get(element)\n\t\t}\n\t\t\n\t\tif($(element).attr(\"state\")==\"new\" || $(element).attr(\"state\")==\"current\") return false;\n\t\t\n\t\tif(element instanceof DocumentFragment){\n\t\t\telement = this.add(element);\n\t\t}else{\n\t\t\tif($(element).closest('[state]').get(0)){\n\t\t\t\telement = $(element).closest('[state]').get(0);\n\t\t\t}else{\n\t\t\t\telement = this.add(element);\n\t\t\t}\n\t\t}\n\t\t\n\t\toptions = Object.assign({},this.options,options);\n\t\t$(this.parentEl).attr(\"animate\",options.animation);\n\t\t\n\t\tthis.hideAll();\n\t\tlet oldEl = null;\n\t\tlet newEl = element;\n\t\tif(this.golist.length==0){\n\t\t\t$(newEl).attr(\"state\",\"current\");\n\t\t}else{\n\t\t\toldEl = this.golist[this.golist.length-1].element;\n\t\t\t$(oldEl).attr(\"state\",\"old\");\n\t\t\toldEl.style.animationDuration = newEl.style.animationDuration = options.duration+\"ms\";\n\t\t\t$(newEl).attr(\"state\",\"new\");\n\t\t}\n\t\t\n\t\t\t\t// Default Timeouts\n\t\tsetTimeout(e=>{\n\t\t\tif(options.focus){\n\t\t\t\tlet inputs = $(newEl).find(\"input,textarea\");\n\t\t\t\tinputs.first().focus();\n\t\t\t}\n\t\t\tif(oldEl!=null && options.remove)\n\t\t\t\toldEl.remove();\n\t\t},options.duration+100)\n\t\t\n\t\t// Call Callbacks\n\t\tfor(let i = 0 ; i < options.callback.length ; i++){\n\t\t\tconst fn = options.callback[i];\n\t\t\tfn(newEl,oldEl);\n\t\t}\n\t\t\n\t\tif(ignore==false)\n\t\t\tthis.golist.push({element:element,options:options});\n\t\t\n\t}\n\t\n\t\n\t// Append All Elements\n\telements.reverse();\n\tfor(var i=elements.length-1; i>-1; i--){\n\t\tvar el = elements[i];\n\t\tif($(el).attr(\"state\")==null)\n\t\t\tthis.add(el,\"hide\");\n\t\t$(el).attr(\"state\",\"hide\")\n\t}\n\tthis.go( $(parentEl).find(\"[state]\").last() );\n\n\t// After back element can be set\n\tthis.backTo = function(element,options){\n\t\t\n\t}\n\n\tthis.back = function(options){\n\t\tif(options==null) options = {};\n\t\t\n\t\tif(this.golist.length>1){\n\t\t\tvar el = this.golist[this.golist.length-2].element;\n\t\t\tvar opt = this.golist[this.golist.length-1].options;\n\t\t\topt.animation = inverseAnimation(opt.animation);\n\t\t\toptions = Object.assign({},this.options,opt,options);\n\t\t\tthis.go(el,options,true);\n\t\t\tthis.golist.pop();\n\t\t}\t\n\t}\n  \n\n\tfunction inverseAnimation(anim){\n\t\tlet inverse_anims = [\n\t\t\t[\"slideLeft\",\"slideRight\"],\n\t\t\t[\"slideRight\",\"slideLeft\"],\n\t\t\t[\"zoomIn\",\"zoomOut\"],\n\t\t\t[\"zoomOut\",\"zoomIn\"]\n\t\t];\n\t\tfor(var i = 0 ; i< inverse_anims.length;i++){\n\t\t\tvar i_anim = inverse_anims[i];\n\t\t\tif(anim==i_anim[0]){\n\t\t\t\treturn i_anim[1];\n\t\t\t}\n\t\t}\n\t}\n}\n\n","ts":"","asenacType":"asenac/function"},"library":"[\n\t\n]","scripts":"@project\n@end\n<!-- Write Your Scripts-->"}]